# ูุธุงู ุฑุจุท ุงููุณุชุฎุฏููู ุจุงููุดุงุฑูุน

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุตููู ูุธุงู ูุชูุฏู ูุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูุงููุดุงุฑูุน ูุณูุญ ูููุฏูุฑ ุจู:
- ุชุนููู ูุณุชุฎุฏู ููุงุฌูุฉ ุงููุจูุนุงุช ููู ูุดุฑูุน
- ุชุนููู ูุณุชุฎุฏู ููุงุฌูุฉ ุงููุญุงุณุจุฉ ููู ูุดุฑูุน
- ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช ูุงููุตูู ุจุดูู ุฏููุงูููู
- ุนุฑุถ ููุฑุงูุจุฉ ุฌููุน ุงูุชุนูููุงุช ูู ูุงุฌูุฉ ูุงุญุฏุฉ

---

## ๐ฏ ุงูููุงููู ุงูุฃุณุงุณูุฉ

### 1. **ุฃููุงุน ุงููุณุชุฎุฏููู**
- **Admin (ูุฏูุฑ)**: ูุตูู ูุงูู ูุฌููุน ุงููุดุงุฑูุน ูุงููุงุฌูุงุช
- **Sales (ูุจูุนุงุช)**: ูุตูู ูุญุฏุฏ ููุงุฌูุฉ ุงููุจูุนุงุช ูููุดุงุฑูุน ุงููุฎุตุตุฉ
- **Accounting (ูุญุงุณุจุฉ)**: ูุตูู ูุญุฏุฏ ููุงุฌูุฉ ุงููุญุงุณุจุฉ ูููุดุงุฑูุน ุงููุฎุตุตุฉ

### 2. **ุฃููุงุน ุงููุงุฌูุงุช**
- **ุฅุฏุงุฑุฉ ุงููุจูุนุงุช (Projects Interface)**: 
  - ุงููุญุฏุงุชุ ุงูุนููุงุกุ ุงูุญุฌูุฒุงุชุ ุงูุฏูุนุงุชุ ุงููุจูุนุงุช
- **ุงูุฅุฏุงุฑุฉ ุงููุญุงุณุจูุฉ (Expenses Interface)**:
  - ุงูุญุฑูุงุช ุงููุงููุฉุ ุงูุตูุฏููุ ุงูุฏูุนุงุช ุงูุขุฌูุฉุ ุงูููุธูููุ ุงููุดุงุฑูุน

### 3. **ProjectAssignment**
ูู ุชุนููู ูุญุชูู ุนูู:
```typescript
{
  projectId: string;           // ูุนุฑู ุงููุดุฑูุน
  projectName: string;         // ุงุณู ุงููุดุฑูุน
  interfaceMode: 'projects' | 'expenses';  // ููุน ุงููุงุฌูุฉ
  assignedAt: string;          // ุชุงุฑูุฎ ุงูุชุนููู
}
```

---

## ๐๏ธ ุงูุจููุฉ ุงูุชูููุฉ

### ุงูุชุบููุฑุงุช ูู Types

#### **User Interface**
```typescript
export interface User {
  id: string;
  name: string;
  email: string;
  role: 'Admin' | 'Sales' | 'Accounting';
  projectAssignments?: ProjectAssignment[];  // โจ ุฌุฏูุฏ
}
```

#### **Project Interface**
```typescript
export interface Project {
  id: string;
  name: string;
  description: string;
  salesUserId?: string;              // โจ ุฌุฏูุฏ - ูุณุชุฎุฏู ุงููุจูุนุงุช
  accountingUserId?: string;         // โจ ุฌุฏูุฏ - ูุณุชุฎุฏู ุงููุญุงุณุจุฉ
  assignedUsers?: ProjectAssignment[]; // โจ ุฌุฏูุฏ - ูุงุฆูุฉ ุงูุชุนูููุงุช
}
```

---

## ๐ฑ ุตูุญุฉ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูุงููุดุงุฑูุน

### ุงููููุน
`components/pages/ProjectUserManagement.tsx`

### ุงููููุฒุงุช

#### 1. **ุนุฑุถ ุงููุดุงุฑูุน**
- ุจุทุงูุฉ ููู ูุดุฑูุน ุชุญุชูู ุนูู:
  - ุงุณู ุงููุดุฑูุน ููุตูู
  - ูุณู ุฅุฏุงุฑุฉ ุงููุจูุนุงุช (ุจุชุตููู ุฃุฒุฑู)
  - ูุณู ุงูุฅุฏุงุฑุฉ ุงููุญุงุณุจูุฉ (ุจุชุตููู ุจููุณุฌู)

#### 2. **ุชุนููู ุงููุณุชุฎุฏููู**
- ุฒุฑ "ุชุนููู ูุณุชุฎุฏู" ููู ูุดุฑูุน
- modal ูุงุฎุชูุงุฑ:
  - ููุน ุงููุงุฌูุฉ (ูุจูุนุงุช ุฃู ูุญุงุณุจุฉ)
  - ุงููุณุชุฎุฏู ุงูููุงุณุจ
- ุชุตููุฉ ุชููุงุฆูุฉ ูููุณุชุฎุฏููู ุญุณุจ ููุน ุงููุงุฌูุฉ

#### 3. **ุฅุฏุงุฑุฉ ุงูุชุนูููุงุช**
- ุนุฑุถ ุงููุณุชุฎุฏู ุงูุญุงูู ููู ูุงุฌูุฉ
- ุฒุฑ ุฅุฒุงูุฉ ุงูุชุนููู
- modal ุชุฃููุฏ ูุจู ุงูุฅุฒุงูุฉ

---

## ๐ ุขููุฉ ุงูุนูู

### ุณููุงุฑูู 1: ุชุนููู ูุณุชุฎุฏู ูุจูุนุงุช ููุดุฑูุน

```
1. ุงููุฏูุฑ ููุชุญ ุตูุญุฉ "ุฑุจุท ุงููุดุงุฑูุน ูุงููุณุชุฎุฏููู"
2. ูุถุบุท ุนูู "ุชุนููู ูุณุชุฎุฏู" ูููุดุฑูุน ุงููุทููุจ
3. ูุฎุชุงุฑ "ุฅุฏุงุฑุฉ ุงููุจูุนุงุช" ูููุน ุงููุงุฌูุฉ
4. ูุฎุชุงุฑ ุงููุณุชุฎุฏู ูู ูุงุฆูุฉ Sales
5. ุงููุธุงู ูููู ุจู:
   - ุชุญุฏูุซ Project.salesUserId
   - ุฅุถุงูุฉ assignment ูููุณุชุฎุฏู
   - ุฅุถุงูุฉ assignment ูููุดุฑูุน
6. ุนุฑุถ ุงููุณุชุฎุฏู ูู ูุณู "ุฅุฏุงุฑุฉ ุงููุจูุนุงุช"
```

### ุณููุงุฑูู 2: ุชุนููู ูุณุชุฎุฏู ูุญุงุณุจุฉ ูููุณ ุงููุดุฑูุน

```
1. ุงููุฏูุฑ ูุถุบุท ุนูู "ุชุนููู ูุณุชุฎุฏู" ูููุณ ุงููุดุฑูุน
2. ูุฎุชุงุฑ "ุงูุฅุฏุงุฑุฉ ุงููุญุงุณุจูุฉ" ูููุน ุงููุงุฌูุฉ
3. ูุฎุชุงุฑ ูุณุชุฎุฏู ูุญุงุณุจุฉ ูุฎุชูู
4. ุงููุธุงู ูููู ุจู:
   - ุชุญุฏูุซ Project.accountingUserId
   - ุฅุถุงูุฉ assignment ูููุตู
5. ุงูุขู ุงููุดุฑูุน ูู ูุณุชุฎุฏููู:
   - ูุงุญุฏ ูููุจูุนุงุช
   - ูุงุญุฏ ูููุญุงุณุจุฉ
```

### ุณููุงุฑูู 3: ุฅุฒุงูุฉ ุชุนููู

```
1. ุงููุฏูุฑ ูุถุบุท ุนูู ุฃููููุฉ ุงูุญุฐู ุจุฌุงูุจ ุงููุณุชุฎุฏู
2. modal ุชุฃููุฏ ูุธูุฑ
3. ุนูุฏ ุงูุชุฃููุฏ:
   - ุฅุฒุงูุฉ assignment ูู ุงููุดุฑูุน
   - ุฅุฒุงูุฉ assignment ูู ุงููุณุชุฎุฏู
   - ุชุญุฏูุซ salesUserId ุฃู accountingUserId
```

---

## ๐จ ุงูุชุตููู ูุงููุงุฌูุฉ

### ุงูุฃููุงู ูุงูุชูููุฒ
- **ุฅุฏุงุฑุฉ ุงููุจูุนุงุช**: 
  - ุชุฏุฑุฌ ุฃุฒุฑู (from-blue-50 to-primary-50)
  - ุฃูููู ุฑุณู ุจูุงูู ุตุงุนุฏ
  
- **ุงูุฅุฏุงุฑุฉ ุงููุญุงุณุจูุฉ**:
  - ุชุฏุฑุฌ ุจููุณุฌู (from-purple-50 to-indigo-50)
  - ุฃูููู ุขูุฉ ุญุงุณุจุฉ

### ุนูุงุตุฑ ุงูุชุตููู
- ุจุทุงูุงุช ุจุชุฃุซูุฑ hover
- ุฃููููุงุช ุฏูุงุฆุฑ ุจุงูุญุฑู ุงูุฃูู ูููุณุชุฎุฏู
- ุฃุฒุฑุงุฑ ุจุชุฃุซูุฑุงุช ุงูุชูุงููุฉ
- ุฏุนู ูุงูู ูููุถุน ุงููุธูู

---

## ๐ ุงูุชุญูู ูู ุงููุตูู

### ูููุฏูุฑ (Admin)
- ูุตูู ูุงูู ูุตูุญุฉ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูุงููุดุงุฑูุน
- ุฅููุงููุฉ ุชุนููู ูุฅุฒุงูุฉ ุงููุณุชุฎุฏููู
- ุงูุชุจุฏูู ุจูู ูุงุฌูุงุช ุงููุจูุนุงุช ูุงููุญุงุณุจุฉ
- ุฑุคูุฉ ุฌููุน ุงูุจูุงูุงุช ูุฌููุน ุงููุดุงุฑูุน

### ููุณุชุฎุฏู ุงููุจูุนุงุช (Sales)
- ุฑุคูุฉ ููุท ุงููุดุงุฑูุน ุงููุฎุตุตุฉ ูู
- ุงููุตูู ูุญุตูุฑ ูู ูุงุฌูุฉ ุงููุจูุนุงุช
- ูุง ูููู ุงููุตูู ูุตูุญุฉ ุงูุฅุฏุงุฑุฉ

### ููุณุชุฎุฏู ุงููุญุงุณุจุฉ (Accounting)
- ุฑุคูุฉ ููุท ุงููุดุงุฑูุน ุงููุฎุตุตุฉ ูู
- ุงููุตูู ูุญุตูุฑ ูู ูุงุฌูุฉ ุงููุญุงุณุจุฉ
- ูุง ูููู ุงููุตูู ูุตูุญุฉ ุงูุฅุฏุงุฑุฉ

---

## ๐ ุชุฏูู ุงูุจูุงูุงุช

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                         ุงููุฏูุฑ                               โ
โ                         (Admin)                              โ
โโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                 โ
                 โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ           ุตูุญุฉ ุฑุจุท ุงููุดุงุฑูุน ูุงููุณุชุฎุฏููู                      โ
โ           ProjectUserManagement.tsx                          โ
โโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโ
             โ                        โ
             โผ                        โผ
    โโโโโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโโโ
    โ  projectsServiceโ      โ  usersService  โ
    โโโโโโโโโโฌโโโโโโโโ      โโโโโโโโโโฌโโโโโโโโ
             โ                        โ
             โผ                        โผ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    โ        Supabase Database            โ
    โ  โโโโโโโโโโโโ    โโโโโโโโโโโโ      โ
    โ  โ projects โ    โ  users   โ      โ
    โ  โโโโโโโโโโโโ    โโโโโโโโโโโโ      โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
             โ
             โ Real-time Updates
             โผ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    โ      User Interfaces                โ
    โ  โโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ โ
    โ  โ   Sales     โ  โ  Accounting  โ โ
    โ  โ  Interface  โ  โ  Interface   โ โ
    โ  โโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ุงูุงุณุชุฎุฏุงู ุงูุนููู

### ุฎุทูุงุช ุงูุฅุนุฏุงุฏ ุงูุฃููู

1. **ุฅูุดุงุก ุงููุดุงุฑูุน**
   ```
   - ุงุฐูุจ ุฅูู "ุฅุฏุงุฑุฉ ุงููุดุงุฑูุน" ูู ูุงุฌูุฉ ุงููุญุงุณุจุฉ
   - ุฃุถู ูุดุงุฑูุนู (ูุซุงู: ูุดุฑูุน ุงููุงุณูููุ ูุดุฑูุน ุงููุฎูู)
   ```

2. **ุฅูุดุงุก ุงููุณุชุฎุฏููู**
   ```
   - ุงุฐูุจ ุฅูู "ุงููุณุชุฎุฏููู"
   - ุฃุถู ูุณุชุฎุฏูู ุงููุจูุนุงุช (role: Sales)
   - ุฃุถู ูุณุชุฎุฏูู ุงููุญุงุณุจุฉ (role: Accounting)
   ```

3. **ุฑุจุท ุงููุณุชุฎุฏููู ุจุงููุดุงุฑูุน**
   ```
   - ุงุฐูุจ ุฅูู "ุฑุจุท ุงููุดุงุฑูุน ูุงููุณุชุฎุฏููู"
   - ููู ูุดุฑูุน:
     * ุนูู ูุณุชุฎุฏู ูููุจูุนุงุช
     * ุนูู ูุณุชุฎุฏู ูููุญุงุณุจุฉ
   ```

### ูุซุงู ุนููู

**ูุดุฑูุน ุงููุงุณููู:**
- ูุณุชุฎุฏู ุงููุจูุนุงุช: ุฃุญูุฏ ูุญูุฏ
- ูุณุชุฎุฏู ุงููุญุงุณุจุฉ: ูุงุทูุฉ ุนูู

**ูุดุฑูุน ุงููุฎูู:**
- ูุณุชุฎุฏู ุงููุจูุนุงุช: ุฎุงูุฏ ุณุนูุฏ
- ูุณุชุฎุฏู ุงููุญุงุณุจุฉ: ููุฑุง ุญุณู

ุงูุขู:
- ุฃุญูุฏ ูุฑู ููุท ุจูุงูุงุช ูุจูุนุงุช ูุดุฑูุน ุงููุงุณููู
- ูุงุทูุฉ ุชุฑู ููุท ุจูุงูุงุช ูุญุงุณุจุฉ ูุดุฑูุน ุงููุงุณููู
- ุฎุงูุฏ ูุฑู ููุท ุจูุงูุงุช ูุจูุนุงุช ูุดุฑูุน ุงููุฎูู
- ููุฑุง ุชุฑู ููุท ุจูุงูุงุช ูุญุงุณุจุฉ ูุดุฑูุน ุงููุฎูู
- ุงููุฏูุฑ ูุฑู ูู ุดูุก

---

## ๐ง ุงูุชุญุฏูุซุงุช ุงููุทููุจุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฅุถุงูุฉ ุฃุนูุฏุฉ ุฌุฏูุฏุฉ ูุฌุฏูู Projects

```sql
ALTER TABLE projects
ADD COLUMN sales_user_id UUID REFERENCES users(id),
ADD COLUMN accounting_user_id UUID REFERENCES users(id),
ADD COLUMN assigned_users JSONB;
```

### ุฅุถุงูุฉ ุนููุฏ ูุฌุฏูู Users

```sql
ALTER TABLE users
ADD COLUMN project_assignments JSONB;
```

---

## ๐ ุงูููุงุญุธุงุช ุงููููุฉ

1. **ุงูุชูุงูู ูุน ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ**: ุชู ุงูุงุญุชูุงุธ ุจู `assignedUserId` ุงููุฏูู
2. **JSONB ูููุฑููุฉ**: ุงุณุชุฎุฏุงู JSONB ูุชุฎุฒูู assignments ูุณูุญ ุจุชูุณูุน ูุณุชูุจูู
3. **Real-time**: ูููู ุฅุถุงูุฉ subscriptions ููุชุญุฏูุซุงุช ุงูููุฑูุฉ
4. **ุงูุฃูุงู**: ุงูุชุญูู ูู ุงูุตูุงุญูุงุช ูู ูู ุนูููุฉ
5. **ูุงุจููุฉ ุงูุชูุณุน**: ูููู ุฅุถุงูุฉ ูุงุฌูุงุช ุฌุฏูุฏุฉ ูู ุงููุณุชูุจู

---

## ๐ฏ ุงูููุงุฆุฏ

โ **ูููุฏูุฑ:**
- ุฑุคูุฉ ุดุงููุฉ ูุฌููุน ุงูุชุนูููุงุช
- ุฅุฏุงุฑุฉ ูุฑูุฒูุฉ ูุณููุฉ
- ุชุญูู ูุงูู ูู ุงูุตูุงุญูุงุช

โ **ูููุณุชุฎุฏููู:**
- ูุงุฌูุฉ ูุธููุฉ ููุฎุตุตุฉ
- ุจูุงูุงุช ูุฎุตุตุฉ ููุดุงุฑูุนูู ููุท
- ุนุฏู ุงูุชุดุชุช ุจูุดุงุฑูุน ุบูุฑ ุฐุงุช ุตูุฉ

โ **ูููุธุงู:**
- ุฃูุงู ูุญุณูู
- ุฃุฏุงุก ุฃูุถู (ุชุญููู ุจูุงูุงุช ุฃูู)
- ูุงุจููุฉ ุชูุณุน ุนุงููุฉ

---

## ๐ฎ ุงูุชุทููุฑ ุงููุณุชูุจูู

- [ ] ุฏุนู ุชุนููู ูุณุชุฎุฏููู ูุชุนุฏุฏูู ูููุณ ุงููุงุฌูุฉ
- [ ] ุชูุงุฑูุฑ ุฃุฏุงุก ุงููุณุชุฎุฏููู ุญุณุจ ุงููุดุงุฑูุน
- [ ] ุฅุดุนุงุฑุงุช ุนูุฏ ุงูุชุนูููุงุช ุงูุฌุฏูุฏุฉ
- [ ] ุณุฌู ุชุงุฑูุฎู ููุชุนูููุงุช
- [ ] ูุงุฌูุฉ API ูุฅุฏุงุฑุฉ ุงูุชุนูููุงุช

---

**ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ:** GitHub Copilot  
**ุงูุชุงุฑูุฎ:** ููููุจุฑ 2025  
**ุงูุฅุตุฏุงุฑ:** 1.0.0
